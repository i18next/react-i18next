!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).ReactI18next={},e.React)}(this,function(e,t){"use strict";var n="default"in t?t.default:t;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},s=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,l=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,u=Object.create?Object.create(null):{};function p(e,t,n,r,a){var i=t.indexOf("<",r),o=t.slice(r,-1===i?void 0:i);/^\s*$/.test(o)&&(o=" "),(!a&&i>-1&&n+e.length>=0||" "!==o)&&e.push({type:"text",content:o})}function f(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(f,"")+"</"+t.name+">"}}var d,g,h={parse:function(e,t){t||(t={}),t.components||(t.components=u);var n,r=[],a=-1,i=[],o={},f=!1;return e.replace(l,function(l,u){if(f){if(l!=="</"+n.name+">")return;f=!1}var d,g="/"!==l.charAt(1),h=0===l.indexOf("\x3c!--"),m=u+l.length,y=e.charAt(m);g&&!h&&(a++,"tag"===(n=function(e){var t,n=0,r=!0,a={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return e.replace(s,function(i){if("="===i)return r=!0,void n++;r?0===n?((c[i]||"/"===e.charAt(e.length-2))&&(a.voidElement=!0),a.name=i):(a.attrs[t]=i.replace(/^['"]|['"]$/g,""),t=void 0):(t&&(a.attrs[t]=t),t=i),n++,r=!1}),a}(l)).type&&t.components[n.name]&&(n.type="component",f=!0),n.voidElement||f||!y||"<"===y||p(n.children,e,a,m,t.ignoreWhitespace),o[n.tagName]=n,0===a&&r.push(n),(d=i[a-1])&&d.children.push(n),i[a]=n),(h||!g||n.voidElement)&&(h||a--,!f&&"<"!==y&&y&&p(d=-1===a?r:i[a].children,e,a,m,t.ignoreWhitespace))}),!r.length&&e.length&&p(r,e,0,0,t.ignoreWhitespace),r},stringify:function(e){return e.reduce(function(e,t){return e+f("",t)},"")}},m={bindI18n:"languageChanging languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},y=n.createContext();function v(){return g}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m=i({},m,{},e)}function O(){return m}class j{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function S(e){d=e}function w(){return d}var E={type:"3rdParty",init(e){b(e.options.react),S(e)}};function N(e){return t=>new Promise(n=>{var r=x();e.getInitialProps?e.getInitialProps(t).then(e=>{n(i({},e,{},r))}):n(r)})}function x(){var e=w(),t=e.reportNamespaces?e.reportNamespaces.getUsedNamespaces():[],n={},r={};return e.languages.forEach(n=>{r[n]={},t.forEach(t=>{r[n][t]=e.getResourceBundle(n,t)||{}})}),n.initialI18nStore=r,n.initialLanguage=e.language,n}function I(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&(t[0]="react-i18next:: ".concat(t[0])),console.warn(...t)}}var k={};function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&k[t[0]]||("string"==typeof t[0]&&(k[t[0]]=new Date),I(...t))}function R(e,t,n){e.loadNamespaces(t,()=>{if(e.isInitialized)n();else{var t=()=>{setTimeout(()=>{e.off("initialized",t)},0),n()};e.on("initialized",t)}})}function C(e){return e.displayName||e.name||("string"==typeof e&&e.length>0?e:"Unknown")}function A(e){return e&&(e.children||e.props&&e.props.children)}function T(e){return e?e&&e.children?e.children:e.props&&e.props.children:[]}function z(e,t,r,a,o){if(""===t)return[];var c=a.transKeepBasicHtmlNodesFor||[],s=t&&new RegExp(c.join("|")).test(t);if(!e&&!s)return[t];var l={};!function e(t){"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),t.forEach(t=>{"string"!=typeof t&&(A(t)?e(T(t)):"object"!=typeof t||n.isValidElement(t)||Object.assign(l,t))})}(e),t=r.services.interpolator.interpolate(t,i({},l,{},o),r.language);var u=function e(t,r){return"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),"[object Array]"!==Object.prototype.toString.call(r)&&(r=[r]),r.reduce((r,o,c)=>{var l=o.children&&o.children[0]&&o.children[0].content;if("tag"===o.type){var u=t[parseInt(o.name,10)]||{},p=n.isValidElement(u);if("string"==typeof u)r.push(u);else if(A(u)){var f=T(u),d=e(f,o.children),g=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&e.every(e=>n.isValidElement(e))}(f)&&0===d.length?f:d;u.dummy&&(u.children=g),r.push(n.cloneElement(u,i({},u.props,{key:c}),g))}else if(s&&"object"==typeof u&&u.dummy&&!p){var h=e(t,o.children);r.push(n.cloneElement(u,i({},u.props,{key:c}),h))}else if(isNaN(o.name)&&a.transSupportBasicHtmlNodes)if(o.voidElement)r.push(n.createElement(o.name,{key:"".concat(o.name,"-").concat(c)}));else{var m=e(t,o.children);r.push(n.createElement(o.name,{key:"".concat(o.name,"-").concat(c)},m))}else if("object"!=typeof u||p)1===o.children.length&&l?r.push(n.cloneElement(u,i({},u.props,{key:c}),l)):r.push(n.cloneElement(u,i({},u.props,{key:c})));else{var y=o.children[0]?l:null;y&&r.push(y)}}else"text"===o.type&&r.push(o.content);return r},[])}([{dummy:!0,children:e}],h.parse("<0>".concat(t,"</0>")));return T(u[0])}function L(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{i18n:r}=n,{i18n:a,defaultNS:o}=v()&&t.useContext(y)||{},c=r||a||w();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new j),!c){P("You will need pass in an i18next instance by using initReactI18next");var s=[e=>e,{},!0];return s.t=(e=>e),s.i18n={},s.ready=!0,s}var l=i({},O(),{},c.options.react),{useSuspense:u=l.useSuspense}=n,p=e||o||c.options&&c.options.defaultNS;p="string"==typeof p?[p]:p||["translation"],c.reportNamespaces.addUsedNamespaces&&c.reportNamespaces.addUsedNamespaces(p);var f=(c.isInitialized||c.initializedStoreOnce)&&p.every(e=>(function(e,t){if(!t.languages||!t.languages.length)return P("i18n.languages were undefined or empty",t.languages),!0;var n=t.languages[0],r=!!t.options&&t.options.fallbackLng,a=t.languages[t.languages.length-1];if("cimode"===n.toLowerCase())return!0;var i=(e,n)=>{var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!!t.hasResourceBundle(n,e)||!t.services.backendConnector.backend||!(!i(n,e)||r&&!i(a,e))})(e,c));function d(){return{t:c.getFixedT(null,"fallback"===l.nsMode?p:p[0])}}var[g,h]=t.useState(d());t.useEffect(()=>{var e=!0,{bindI18n:t,bindI18nStore:n}=l;function r(){e&&h(d())}return f||u||R(c,p,()=>{e&&h(d())}),t&&c&&c.on(t,r),n&&c&&c.store.on(n,r),()=>{e=!1,t&&c&&t.split(" ").forEach(e=>c.off(e,r)),n&&c&&n.split(" ").forEach(e=>c.store.off(e,r))}},[p.join()]);var m=[g.t,c,f];if(m.t=g.t,m.i18n=c,m.ready=f,f)return m;if(!f&&!u)return m;throw new Promise(e=>{R(c,p,()=>{h(d()),e()})})}function D(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{i18n:a}=r,{i18n:i}=v()?t.useContext(y):{},o=a||i||w();o.options&&o.options.isClone||(e&&!o.initializedStoreOnce&&(o.services.resourceStore.data=e,o.initializedStoreOnce=!0),n&&!o.initializedLanguageOnce&&(o.changeLanguage(n),o.initializedLanguageOnce=!0))}e.Trans=function(e){var{children:r,count:a,parent:c,i18nKey:s,tOptions:l,values:u,defaults:p,components:f,ns:d,i18n:g,t:h}=e,m=o(e,["children","count","parent","i18nKey","tOptions","values","defaults","components","ns","i18n","t"]),{i18n:b,defaultNS:j}=v()&&t.useContext(y)||{},S=g||b||w();if(!S)return P("You will need pass in an i18next instance by using i18nextReactModule"),r;var E=h||S.t.bind(S)||(e=>e),N=i({},O(),{},S.options&&S.options.react),x=void 0!==c?c:N.defaultTransParent,k=d||E.ns||j||S.options&&S.options.defaultNS;k="string"==typeof k?[k]:k||["translation"];var R=p||function e(t,r,a,o){if(!r)return"";"[object Array]"!==Object.prototype.toString.call(r)&&(r=[r]);var c=o.transKeepBasicHtmlNodesFor||[];return r.forEach((r,a)=>{var s="".concat(a);if("string"==typeof r)t="".concat(t).concat(r);else if(A(r)){var l=c.indexOf(r.type)>-1&&1===Object.keys(r.props).length&&"string"==typeof A(r)?r.type:s;t=r.props&&r.props.i18nIsDynamicList?"".concat(t,"<").concat(l,"></").concat(l,">"):"".concat(t,"<").concat(l,">").concat(e("",T(r),a+1,o),"</").concat(l,">")}else if(n.isValidElement(r))t=c.indexOf(r.type)>-1&&0===Object.keys(r.props).length?"".concat(t,"<").concat(r.type,"/>"):"".concat(t,"<").concat(s,"></").concat(s,">");else if("object"==typeof r){var u=i({},r),p=u.format;delete u.format;var f=Object.keys(u);p&&1===f.length?t="".concat(t,"{{").concat(f[0],", ").concat(p,"}}"):1===f.length?t="".concat(t,"{{").concat(f[0],"}}"):I("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",r)}else I("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",r)}),t}("",r,0,N)||N.transEmptyNodeValue,{hashTransKey:C}=N,L=s||(C?C(R):R),D=i({},l,{},u,{},u?{}:{interpolation:{prefix:"#$?",suffix:"?$#"}},{defaultValue:R,count:a,ns:k}),B=L?E(L,D):R;return x?n.createElement(x,m,z(f||r,B,S,N,D)):z(f||r,B,S,N,D)},e.useTranslation=L,e.withTranslation=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){function a(a,o){var[c,s,l]=L(e,a),u=i({},a,{t:c,i18n:s,tReady:l});return t.withRef&&o&&(u.ref=o),n.createElement(r,u)}return a.displayName="withI18nextTranslation(".concat(C(r),")"),a.WrappedComponent=r,t.withRef?n.forwardRef(a):a}},e.Translation=function(e){var{ns:t,children:n}=e,r=o(e,["ns","children"]),[a,i,c]=L(t,r);return n(a,{i18n:i,lng:i.language},c)},e.I18nextProvider=function(e){var{i18n:t,defaultNS:r,children:a}=e;return g=!0,n.createElement(y.Provider,{value:{i18n:t,defaultNS:r}},a)},e.withSSR=function(){return function(e){function t(t){var{initialI18nStore:r,initialLanguage:a}=t,c=o(t,["initialI18nStore","initialLanguage"]);return D(r,a),n.createElement(e,i({},c))}return t.getInitialProps=N(e),t.displayName="withI18nextSSR(".concat(C(e),")"),t.WrappedComponent=e,t}},e.useSSR=D,e.I18nContext=y,e.initReactI18next=E,e.setDefaults=b,e.getDefaults=O,e.setI18n=S,e.getI18n=w,e.composeInitialProps=N,e.getInitialProps=x,Object.defineProperty(e,"__esModule",{value:!0})});
